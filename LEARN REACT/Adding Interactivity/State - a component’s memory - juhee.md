# 2. State: 컴포넌트의 메모리
컴포넌트는 상호작용의 결과로 UI를 변경해야 하는 경우가 많다.
따라서 컴포넌트는 현재 입력값, 데이터 등을 기억하고 있어야 하는데, 이런 컴포넌트의 메모리를 `state`라고 한다.

새 데이터로 컴포넌트의 UI를 업데이트하려면 두 가지 작업이 필요하다.
1) 렌더링이 되고 나서도 변경된 데이터를 잃어버리지 않고 기억하고 있는다.
2) 새로운 데이터를 보여주도록 리렌더링을 촉발한다.
`useState` 훅을 사용해서 위의 두 가지 작업을 할 수 있다.

## 2-1. hook
- hook은 컴포넌트가 리액트의 기능을 사용할 수 있게 해주는 특수한 함수들이다.
- 이름이 `use`로 시작한다.
- React가 **렌더링** 중일 때만 사용할 수 있는 특별한 함수이다. (렌더링에 대해서는 아래 Render & Commit에서 자세히 다룬다.)
- React 기능에 "연결(hook into)"할 수 있게 해준다.
- hook은 함수이지만, 컴포넌트의 필요에 대한 무조건적인 선언으로 생각하면 된다.
- 파일 상단에서 모듈을 import하는 것과 마찬가지로, 컴포넌트 안에서 조건과 무관하게 항상 호출되어야 한다.

### 1) [hook 호출 위치](https://e-juhee.tistory.com/entry/%EC%99%9C-Hooks%EB%8A%94-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%9D%98-%EC%B5%9C%EC%83%81%EC%9C%84-%EB%A0%88%EB%B2%A8%EC%97%90%EC%84%9C-%ED%98%B8%EC%B6%9C%ED%95%B4%EC%95%BC-%ED%95%98%EB%82%98%EC%9A%94)
- hook은 컴포넌트의 최상위 레벨 또는 커스텀 훅에서만 호출할 수 있다.
- 조건문, 반복문, 함수 내부에서는 호출할 수 없다!!

#### 🧐 Why??
- Hook의 호출 순서를 보장하기 위한 것이다.
- 이 규칙을 따르면 여러 렌더링 사이에서 Hooks의 상태를 올바르게 유지할 수 있다.
- 조건문, 반복문, 중첩 함수 등의 내부에서 Hooks를 호출하면 렌더링 사이에서 Hook 호출의 순서가 변경될 수 있어, 예기치 않은 버그를 유발할 수 있다.


## 2-2. state는 지역적이다
- state는 각 컴포넌트 인스턴스에 지역적이다.
- 즉, 동일한 컴포넌트를 두 군데에서 렌더링하면 각 컴포넌트 인스턴스는 고유한 각자의 state를 갖게 된다. 한 컴포넌트의 state를 변경해도 다른 컴포넌트에 영향을 미치지 않는다.
